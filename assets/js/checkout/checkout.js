//Call this to register our module to main application
var moduleName = "storefront.checkout";

if (storefrontAppDependencies != undefined) {
    storefrontAppDependencies.push(moduleName);
}
angular.module(moduleName, ['credit-cards', 'angular.filter'])
.controller('checkoutController', ['$rootScope', '$scope', '$window', 'cartService', 'commonService',
    function ($rootScope, $scope, $window, cartService, commonService) {
        $scope.checkout = {
            wizard: {},
            paymentMethod: {},
            deliveryMethod: {},
            shipment: {},
            payment: {},
            coupon: {},
            availCountries: [],
            loading: false,
            isValid: false
        };
        $scope.evalAvailability = function (deliveryMethod) {
            _.each($scope.checkout.cart.items, function (x) {
                x.availability = {
                    deliveryMethod: deliveryMethod,
                    availDate: Date.now()
                };
            });
        };

        $scope.mockLineItem = [{ "createdDate": "0001-01-01T00:00:00", "product": { "sku": "357896501", "name": "Black Leather-Look Strap Pom Pom", "catalogId": "b61aa9d1d0024bc4be12d79bf5786e9f", "categoryId": "e8be68a46e084ebfaa3d596a95b6077c", "url": "~/product/198d4ad4d5be42aea8d9546885a3bd99", "isBuyable": true, "isInStock": true, "isActive": true, "trackInventory": true, "maxQuantity": 0, "minQuantity": 1, "productType": "Physical", "enableReview": false, "maxNumberOfDownload": 0, "hasUserAgreement": false, "variationProperties": [], "assets": [], "variations": [], "associations": [], "descriptions": [], "price": { "pricelistId": "6a861ff44eb140bebb516a6dc240868c", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "productId": "198d4ad4d5be42aea8d9546885a3bd99", "discountAmount": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "$0.00", "formattedAmountWithoutPoint": "$0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "discountAmountWithTax": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "$0.00", "formattedAmountWithoutPoint": "$0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "discountPercent": 0, "listPrice": { "internalAmount": 6.99, "amount": 6.99, "truncatedAmount": 6.5, "formattedAmount": "$6.99", "formattedAmountWithoutPoint": "$7", "formattedAmountWithoutPointAndCurrency": "7", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "listPriceWithTax": { "internalAmount": 6.99, "amount": 6.99, "truncatedAmount": 6.5, "formattedAmount": "$6.99", "formattedAmountWithoutPoint": "$7", "formattedAmountWithoutPointAndCurrency": "7", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "salePrice": { "internalAmount": 6.99, "amount": 6.99, "truncatedAmount": 6.5, "formattedAmount": "$6.99", "formattedAmountWithoutPoint": "$7", "formattedAmountWithoutPointAndCurrency": "7", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "salePriceWithTax": { "internalAmount": 6.99, "amount": 6.99, "truncatedAmount": 6.5, "formattedAmount": "$6.99", "formattedAmountWithoutPoint": "$7", "formattedAmountWithoutPointAndCurrency": "7", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "actualPrice": { "internalAmount": 6.99, "amount": 6.99, "truncatedAmount": 6.5, "formattedAmount": "$6.99", "formattedAmountWithoutPoint": "$7", "formattedAmountWithoutPointAndCurrency": "7", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "actualPriceWithTax": { "internalAmount": 6.99, "amount": 6.99, "truncatedAmount": 6.5, "formattedAmount": "$6.99", "formattedAmountWithoutPoint": "$7", "formattedAmountWithoutPointAndCurrency": "7", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "discounts": [], "minQuantity": 1, "tierPrices": [{ "price": { "internalAmount": 6.99, "amount": 6.99, "truncatedAmount": 6.5, "formattedAmount": "$6.99", "formattedAmountWithoutPoint": "$7", "formattedAmountWithoutPointAndCurrency": "7", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "priceWithTax": { "internalAmount": 6.99, "amount": 6.99, "truncatedAmount": 6.5, "formattedAmount": "$6.99", "formattedAmountWithoutPoint": "$7", "formattedAmountWithoutPointAndCurrency": "7", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "discountAmount": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "$0.00", "formattedAmountWithoutPoint": "$0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "discountAmountWithTax": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "$0.00", "formattedAmountWithoutPoint": "$0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "actualPrice": { "internalAmount": 6.99, "amount": 6.99, "truncatedAmount": 6.5, "formattedAmount": "$6.99", "formattedAmountWithoutPoint": "$7", "formattedAmountWithoutPointAndCurrency": "7", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "actualPriceWithTax": { "internalAmount": 6.99, "amount": 6.99, "truncatedAmount": 6.5, "formattedAmount": "$6.99", "formattedAmountWithoutPoint": "$7", "formattedAmountWithoutPointAndCurrency": "7", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "quantity": 1, "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "taxTotal": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "$0.00", "formattedAmountWithoutPoint": "$0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "taxPercentRate": 0, "taxDetails": [] }], "taxTotal": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "$0.00", "formattedAmountWithoutPoint": "$0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "taxPercentRate": 0 }, "prices": [{ "pricelistId": "39e18ca8ea254296a78d47f3f90d649d", "currency": { "code": "EUR", "cultureName": "en-US", "symbol": "€", "englishName": "US Dollar", "exchangeRate": 1 }, "productId": "198d4ad4d5be42aea8d9546885a3bd99", "discountAmount": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "€0.00", "formattedAmountWithoutPoint": "€0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "EUR", "cultureName": "en-US", "symbol": "€", "englishName": "US Dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "discountAmountWithTax": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "€0.00", "formattedAmountWithoutPoint": "€0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "EUR", "cultureName": "en-US", "symbol": "€", "englishName": "US Dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "discountPercent": 0, "listPrice": { "internalAmount": 4.99, "amount": 4.99, "truncatedAmount": 4.5, "formattedAmount": "€4.99", "formattedAmountWithoutPoint": "€5", "formattedAmountWithoutPointAndCurrency": "5", "currency": { "code": "EUR", "cultureName": "en-US", "symbol": "€", "englishName": "US Dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "listPriceWithTax": { "internalAmount": 4.99, "amount": 4.99, "truncatedAmount": 4.5, "formattedAmount": "€4.99", "formattedAmountWithoutPoint": "€5", "formattedAmountWithoutPointAndCurrency": "5", "currency": { "code": "EUR", "cultureName": "en-US", "symbol": "€", "englishName": "US Dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "salePrice": { "internalAmount": 4.99, "amount": 4.99, "truncatedAmount": 4.5, "formattedAmount": "€4.99", "formattedAmountWithoutPoint": "€5", "formattedAmountWithoutPointAndCurrency": "5", "currency": { "code": "EUR", "cultureName": "en-US", "symbol": "€", "englishName": "US Dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "salePriceWithTax": { "internalAmount": 4.99, "amount": 4.99, "truncatedAmount": 4.5, "formattedAmount": "€4.99", "formattedAmountWithoutPoint": "€5", "formattedAmountWithoutPointAndCurrency": "5", "currency": { "code": "EUR", "cultureName": "en-US", "symbol": "€", "englishName": "US Dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "actualPrice": { "internalAmount": 4.99, "amount": 4.99, "truncatedAmount": 4.5, "formattedAmount": "€4.99", "formattedAmountWithoutPoint": "€5", "formattedAmountWithoutPointAndCurrency": "5", "currency": { "code": "EUR", "cultureName": "en-US", "symbol": "€", "englishName": "US Dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "actualPriceWithTax": { "internalAmount": 4.99, "amount": 4.99, "truncatedAmount": 4.5, "formattedAmount": "€4.99", "formattedAmountWithoutPoint": "€5", "formattedAmountWithoutPointAndCurrency": "5", "currency": { "code": "EUR", "cultureName": "en-US", "symbol": "€", "englishName": "US Dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "discounts": [], "minQuantity": 1, "tierPrices": [{ "price": { "internalAmount": 4.99, "amount": 4.99, "truncatedAmount": 4.5, "formattedAmount": "€4.99", "formattedAmountWithoutPoint": "€5", "formattedAmountWithoutPointAndCurrency": "5", "currency": { "code": "EUR", "cultureName": "en-US", "symbol": "€", "englishName": "US Dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "priceWithTax": { "internalAmount": 4.99, "amount": 4.99, "truncatedAmount": 4.5, "formattedAmount": "€4.99", "formattedAmountWithoutPoint": "€5", "formattedAmountWithoutPointAndCurrency": "5", "currency": { "code": "EUR", "cultureName": "en-US", "symbol": "€", "englishName": "US Dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "discountAmount": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "€0.00", "formattedAmountWithoutPoint": "€0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "EUR", "cultureName": "en-US", "symbol": "€", "englishName": "US Dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "discountAmountWithTax": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "€0.00", "formattedAmountWithoutPoint": "€0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "EUR", "cultureName": "en-US", "symbol": "€", "englishName": "US Dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "actualPrice": { "internalAmount": 4.99, "amount": 4.99, "truncatedAmount": 4.5, "formattedAmount": "€4.99", "formattedAmountWithoutPoint": "€5", "formattedAmountWithoutPointAndCurrency": "5", "currency": { "code": "EUR", "cultureName": "en-US", "symbol": "€", "englishName": "US Dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "actualPriceWithTax": { "internalAmount": 4.99, "amount": 4.99, "truncatedAmount": 4.5, "formattedAmount": "€4.99", "formattedAmountWithoutPoint": "€5", "formattedAmountWithoutPointAndCurrency": "5", "currency": { "code": "EUR", "cultureName": "en-US", "symbol": "€", "englishName": "US Dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "quantity": 1, "currency": { "code": "EUR", "cultureName": "en-US", "symbol": "€", "englishName": "US Dollar", "exchangeRate": 1 }, "taxTotal": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "€0.00", "formattedAmountWithoutPoint": "€0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "EUR", "cultureName": "en-US", "symbol": "€", "englishName": "US Dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "taxPercentRate": 0, "taxDetails": [] }], "taxTotal": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "€0.00", "formattedAmountWithoutPoint": "€0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "EUR", "cultureName": "en-US", "symbol": "€", "englishName": "US Dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "taxPercentRate": 0 }, { "pricelistId": "6a861ff44eb140bebb516a6dc240868c", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "productId": "198d4ad4d5be42aea8d9546885a3bd99", "discountAmount": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "$0.00", "formattedAmountWithoutPoint": "$0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "discountAmountWithTax": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "$0.00", "formattedAmountWithoutPoint": "$0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "discountPercent": 0, "listPrice": { "internalAmount": 6.99, "amount": 6.99, "truncatedAmount": 6.5, "formattedAmount": "$6.99", "formattedAmountWithoutPoint": "$7", "formattedAmountWithoutPointAndCurrency": "7", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "listPriceWithTax": { "internalAmount": 6.99, "amount": 6.99, "truncatedAmount": 6.5, "formattedAmount": "$6.99", "formattedAmountWithoutPoint": "$7", "formattedAmountWithoutPointAndCurrency": "7", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "salePrice": { "internalAmount": 6.99, "amount": 6.99, "truncatedAmount": 6.5, "formattedAmount": "$6.99", "formattedAmountWithoutPoint": "$7", "formattedAmountWithoutPointAndCurrency": "7", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "salePriceWithTax": { "internalAmount": 6.99, "amount": 6.99, "truncatedAmount": 6.5, "formattedAmount": "$6.99", "formattedAmountWithoutPoint": "$7", "formattedAmountWithoutPointAndCurrency": "7", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "actualPrice": { "internalAmount": 6.99, "amount": 6.99, "truncatedAmount": 6.5, "formattedAmount": "$6.99", "formattedAmountWithoutPoint": "$7", "formattedAmountWithoutPointAndCurrency": "7", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "actualPriceWithTax": { "internalAmount": 6.99, "amount": 6.99, "truncatedAmount": 6.5, "formattedAmount": "$6.99", "formattedAmountWithoutPoint": "$7", "formattedAmountWithoutPointAndCurrency": "7", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "discounts": [], "minQuantity": 1, "tierPrices": [{ "price": { "internalAmount": 6.99, "amount": 6.99, "truncatedAmount": 6.5, "formattedAmount": "$6.99", "formattedAmountWithoutPoint": "$7", "formattedAmountWithoutPointAndCurrency": "7", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "priceWithTax": { "internalAmount": 6.99, "amount": 6.99, "truncatedAmount": 6.5, "formattedAmount": "$6.99", "formattedAmountWithoutPoint": "$7", "formattedAmountWithoutPointAndCurrency": "7", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "discountAmount": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "$0.00", "formattedAmountWithoutPoint": "$0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "discountAmountWithTax": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "$0.00", "formattedAmountWithoutPoint": "$0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "actualPrice": { "internalAmount": 6.99, "amount": 6.99, "truncatedAmount": 6.5, "formattedAmount": "$6.99", "formattedAmountWithoutPoint": "$7", "formattedAmountWithoutPointAndCurrency": "7", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "actualPriceWithTax": { "internalAmount": 6.99, "amount": 6.99, "truncatedAmount": 6.5, "formattedAmount": "$6.99", "formattedAmountWithoutPoint": "$7", "formattedAmountWithoutPointAndCurrency": "7", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "quantity": 1, "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "taxTotal": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "$0.00", "formattedAmountWithoutPoint": "$0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "taxPercentRate": 0, "taxDetails": [] }], "taxTotal": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "$0.00", "formattedAmountWithoutPoint": "$0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "taxPercentRate": 0 }], "inventoryAll": [], "availableQuantity": 0, "seoInfo": { "slug": "357896501", "title": "198d4ad4d5be42aea8d9546885a3bd99", "language": { "isInvariant": false, "cultureName": "en-US", "nativeName": "English (United States)", "threeLeterLanguageName": "eng", "twoLetterLanguageName": "en", "twoLetterRegionName": "US", "threeLetterRegionName": "USA" } }, "primaryImage": { "url": "//localhost/adminb2b/assets/catalog/357896501/357896501.jpg" }, "images": [{ "url": "//localhost/adminb2b/assets/catalog/357896501/357896501.jpg" }], "isQuotable": true, "isAvailable": true, "properties": [], "taxTotal": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "$0.00", "formattedAmountWithoutPoint": "$0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "taxPercentRate": 0, "taxDetails": [], "discounts": [], "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "id": "198d4ad4d5be42aea8d9546885a3bd99" }, "productId": "198d4ad4d5be42aea8d9546885a3bd99", "productType": "Physical", "catalogId": "b61aa9d1d0024bc4be12d79bf5786e9f", "categoryId": "e8be68a46e084ebfaa3d596a95b6077c", "sku": "357896501", "name": "Black Leather-Look Strap Pom Pom", "quantity": 2, "inStockQuantity": 0, "requiredShipping": false, "imageUrl": "//localhost/adminb2b/assets/catalog/357896501/357896501.jpg", "isGift": false, "languageCode": "en-US", "isReccuring": false, "taxIncluded": false, "isReadOnly": false, "listPrice": { "internalAmount": 6.99, "amount": 6.99, "truncatedAmount": 6.5, "formattedAmount": "$6.99", "formattedAmountWithoutPoint": "$7", "formattedAmountWithoutPointAndCurrency": "7", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "listPriceWithTax": { "internalAmount": 6.99, "amount": 6.99, "truncatedAmount": 6.5, "formattedAmount": "$6.99", "formattedAmountWithoutPoint": "$7", "formattedAmountWithoutPointAndCurrency": "7", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "salePrice": { "internalAmount": 6.99, "amount": 6.99, "truncatedAmount": 6.5, "formattedAmount": "$6.99", "formattedAmountWithoutPoint": "$7", "formattedAmountWithoutPointAndCurrency": "7", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "salePriceWithTax": { "internalAmount": 6.99, "amount": 6.99, "truncatedAmount": 6.5, "formattedAmount": "$6.99", "formattedAmountWithoutPoint": "$7", "formattedAmountWithoutPointAndCurrency": "7", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "placedPrice": { "internalAmount": 6.99, "amount": 6.99, "truncatedAmount": 6.5, "formattedAmount": "$6.99", "formattedAmountWithoutPoint": "$7", "formattedAmountWithoutPointAndCurrency": "7", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "placedPriceWithTax": { "internalAmount": 6.99, "amount": 6.99, "truncatedAmount": 6.5, "formattedAmount": "$6.99", "formattedAmountWithoutPoint": "$7", "formattedAmountWithoutPointAndCurrency": "7", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "extendedPrice": { "internalAmount": 13.98, "amount": 13.98, "truncatedAmount": 13.5, "formattedAmount": "$13.98", "formattedAmountWithoutPoint": "$14", "formattedAmountWithoutPointAndCurrency": "14", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "extendedPriceWithTax": { "internalAmount": 13.98, "amount": 13.98, "truncatedAmount": 13.5, "formattedAmount": "$13.98", "formattedAmountWithoutPoint": "$14", "formattedAmountWithoutPointAndCurrency": "14", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "discountAmount": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "$0.00", "formattedAmountWithoutPoint": "$0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "discountAmountWithTax": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "$0.00", "formattedAmountWithoutPoint": "$0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "discountTotal": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "$0.00", "formattedAmountWithoutPoint": "$0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "discountTotalWithTax": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "$0.00", "formattedAmountWithoutPoint": "$0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "objectType": "VirtoCommerce.Domain.Cart.Model.LineItem", "dynamicProperties": [], "isValid": true, "validationErrors": [], "taxTotal": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "$0.00", "formattedAmountWithoutPoint": "$0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "taxPercentRate": 0, "taxDetails": [], "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "discounts": [], "id": "729db97b100b42189f356322616dc5dc", "$$hashKey": "object:66" }, { "createdDate": "0001-01-01T00:00:00", "product": { "sku": "343507083", "name": "3 Pack Coral Tassel Necklaces", "catalogId": "b61aa9d1d0024bc4be12d79bf5786e9f", "categoryId": "71a883b89c054e4bb560d45edaeb213c", "url": "~/product/f2697521d58d48b6bb1c887fc2709070", "isBuyable": true, "isInStock": true, "isActive": true, "trackInventory": true, "maxQuantity": 0, "minQuantity": 1, "productType": "Physical", "enableReview": false, "maxNumberOfDownload": 0, "hasUserAgreement": false, "variationProperties": [], "assets": [], "variations": [], "associations": [], "descriptions": [], "price": { "pricelistId": "6a861ff44eb140bebb516a6dc240868c", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "productId": "f2697521d58d48b6bb1c887fc2709070", "discountAmount": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "$0.00", "formattedAmountWithoutPoint": "$0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "discountAmountWithTax": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "$0.00", "formattedAmountWithoutPoint": "$0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "discountPercent": 0, "listPrice": { "internalAmount": 15, "amount": 15, "truncatedAmount": 15, "formattedAmount": "$15.00", "formattedAmountWithoutPoint": "$15", "formattedAmountWithoutPointAndCurrency": "15", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "listPriceWithTax": { "internalAmount": 15, "amount": 15, "truncatedAmount": 15, "formattedAmount": "$15.00", "formattedAmountWithoutPoint": "$15", "formattedAmountWithoutPointAndCurrency": "15", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "salePrice": { "internalAmount": 15, "amount": 15, "truncatedAmount": 15, "formattedAmount": "$15.00", "formattedAmountWithoutPoint": "$15", "formattedAmountWithoutPointAndCurrency": "15", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "salePriceWithTax": { "internalAmount": 15, "amount": 15, "truncatedAmount": 15, "formattedAmount": "$15.00", "formattedAmountWithoutPoint": "$15", "formattedAmountWithoutPointAndCurrency": "15", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "actualPrice": { "internalAmount": 15, "amount": 15, "truncatedAmount": 15, "formattedAmount": "$15.00", "formattedAmountWithoutPoint": "$15", "formattedAmountWithoutPointAndCurrency": "15", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "actualPriceWithTax": { "internalAmount": 15, "amount": 15, "truncatedAmount": 15, "formattedAmount": "$15.00", "formattedAmountWithoutPoint": "$15", "formattedAmountWithoutPointAndCurrency": "15", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "discounts": [], "minQuantity": 1, "tierPrices": [{ "price": { "internalAmount": 15, "amount": 15, "truncatedAmount": 15, "formattedAmount": "$15.00", "formattedAmountWithoutPoint": "$15", "formattedAmountWithoutPointAndCurrency": "15", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "priceWithTax": { "internalAmount": 15, "amount": 15, "truncatedAmount": 15, "formattedAmount": "$15.00", "formattedAmountWithoutPoint": "$15", "formattedAmountWithoutPointAndCurrency": "15", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "discountAmount": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "$0.00", "formattedAmountWithoutPoint": "$0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "discountAmountWithTax": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "$0.00", "formattedAmountWithoutPoint": "$0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "actualPrice": { "internalAmount": 15, "amount": 15, "truncatedAmount": 15, "formattedAmount": "$15.00", "formattedAmountWithoutPoint": "$15", "formattedAmountWithoutPointAndCurrency": "15", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "actualPriceWithTax": { "internalAmount": 15, "amount": 15, "truncatedAmount": 15, "formattedAmount": "$15.00", "formattedAmountWithoutPoint": "$15", "formattedAmountWithoutPointAndCurrency": "15", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "quantity": 1, "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "taxTotal": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "$0.00", "formattedAmountWithoutPoint": "$0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "taxPercentRate": 0, "taxDetails": [] }], "taxTotal": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "$0.00", "formattedAmountWithoutPoint": "$0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "taxPercentRate": 0 }, "prices": [{ "pricelistId": "6a861ff44eb140bebb516a6dc240868c", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "productId": "f2697521d58d48b6bb1c887fc2709070", "discountAmount": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "$0.00", "formattedAmountWithoutPoint": "$0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "discountAmountWithTax": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "$0.00", "formattedAmountWithoutPoint": "$0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "discountPercent": 0, "listPrice": { "internalAmount": 15, "amount": 15, "truncatedAmount": 15, "formattedAmount": "$15.00", "formattedAmountWithoutPoint": "$15", "formattedAmountWithoutPointAndCurrency": "15", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "listPriceWithTax": { "internalAmount": 15, "amount": 15, "truncatedAmount": 15, "formattedAmount": "$15.00", "formattedAmountWithoutPoint": "$15", "formattedAmountWithoutPointAndCurrency": "15", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "salePrice": { "internalAmount": 15, "amount": 15, "truncatedAmount": 15, "formattedAmount": "$15.00", "formattedAmountWithoutPoint": "$15", "formattedAmountWithoutPointAndCurrency": "15", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "salePriceWithTax": { "internalAmount": 15, "amount": 15, "truncatedAmount": 15, "formattedAmount": "$15.00", "formattedAmountWithoutPoint": "$15", "formattedAmountWithoutPointAndCurrency": "15", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "actualPrice": { "internalAmount": 15, "amount": 15, "truncatedAmount": 15, "formattedAmount": "$15.00", "formattedAmountWithoutPoint": "$15", "formattedAmountWithoutPointAndCurrency": "15", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "actualPriceWithTax": { "internalAmount": 15, "amount": 15, "truncatedAmount": 15, "formattedAmount": "$15.00", "formattedAmountWithoutPoint": "$15", "formattedAmountWithoutPointAndCurrency": "15", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "discounts": [], "minQuantity": 1, "tierPrices": [{ "price": { "internalAmount": 15, "amount": 15, "truncatedAmount": 15, "formattedAmount": "$15.00", "formattedAmountWithoutPoint": "$15", "formattedAmountWithoutPointAndCurrency": "15", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "priceWithTax": { "internalAmount": 15, "amount": 15, "truncatedAmount": 15, "formattedAmount": "$15.00", "formattedAmountWithoutPoint": "$15", "formattedAmountWithoutPointAndCurrency": "15", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "discountAmount": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "$0.00", "formattedAmountWithoutPoint": "$0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "discountAmountWithTax": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "$0.00", "formattedAmountWithoutPoint": "$0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "actualPrice": { "internalAmount": 15, "amount": 15, "truncatedAmount": 15, "formattedAmount": "$15.00", "formattedAmountWithoutPoint": "$15", "formattedAmountWithoutPointAndCurrency": "15", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "actualPriceWithTax": { "internalAmount": 15, "amount": 15, "truncatedAmount": 15, "formattedAmount": "$15.00", "formattedAmountWithoutPoint": "$15", "formattedAmountWithoutPointAndCurrency": "15", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "quantity": 1, "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "taxTotal": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "$0.00", "formattedAmountWithoutPoint": "$0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "taxPercentRate": 0, "taxDetails": [] }], "taxTotal": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "$0.00", "formattedAmountWithoutPoint": "$0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "taxPercentRate": 0 }, { "pricelistId": "39e18ca8ea254296a78d47f3f90d649d", "currency": { "code": "EUR", "cultureName": "en-US", "symbol": "€", "englishName": "US Dollar", "exchangeRate": 1 }, "productId": "f2697521d58d48b6bb1c887fc2709070", "discountAmount": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "€0.00", "formattedAmountWithoutPoint": "€0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "EUR", "cultureName": "en-US", "symbol": "€", "englishName": "US Dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "discountAmountWithTax": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "€0.00", "formattedAmountWithoutPoint": "€0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "EUR", "cultureName": "en-US", "symbol": "€", "englishName": "US Dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "discountPercent": 0, "listPrice": { "internalAmount": 11.99, "amount": 11.99, "truncatedAmount": 11.5, "formattedAmount": "€11.99", "formattedAmountWithoutPoint": "€12", "formattedAmountWithoutPointAndCurrency": "12", "currency": { "code": "EUR", "cultureName": "en-US", "symbol": "€", "englishName": "US Dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "listPriceWithTax": { "internalAmount": 11.99, "amount": 11.99, "truncatedAmount": 11.5, "formattedAmount": "€11.99", "formattedAmountWithoutPoint": "€12", "formattedAmountWithoutPointAndCurrency": "12", "currency": { "code": "EUR", "cultureName": "en-US", "symbol": "€", "englishName": "US Dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "salePrice": { "internalAmount": 11.99, "amount": 11.99, "truncatedAmount": 11.5, "formattedAmount": "€11.99", "formattedAmountWithoutPoint": "€12", "formattedAmountWithoutPointAndCurrency": "12", "currency": { "code": "EUR", "cultureName": "en-US", "symbol": "€", "englishName": "US Dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "salePriceWithTax": { "internalAmount": 11.99, "amount": 11.99, "truncatedAmount": 11.5, "formattedAmount": "€11.99", "formattedAmountWithoutPoint": "€12", "formattedAmountWithoutPointAndCurrency": "12", "currency": { "code": "EUR", "cultureName": "en-US", "symbol": "€", "englishName": "US Dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "actualPrice": { "internalAmount": 11.99, "amount": 11.99, "truncatedAmount": 11.5, "formattedAmount": "€11.99", "formattedAmountWithoutPoint": "€12", "formattedAmountWithoutPointAndCurrency": "12", "currency": { "code": "EUR", "cultureName": "en-US", "symbol": "€", "englishName": "US Dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "actualPriceWithTax": { "internalAmount": 11.99, "amount": 11.99, "truncatedAmount": 11.5, "formattedAmount": "€11.99", "formattedAmountWithoutPoint": "€12", "formattedAmountWithoutPointAndCurrency": "12", "currency": { "code": "EUR", "cultureName": "en-US", "symbol": "€", "englishName": "US Dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "discounts": [], "minQuantity": 1, "tierPrices": [{ "price": { "internalAmount": 11.99, "amount": 11.99, "truncatedAmount": 11.5, "formattedAmount": "€11.99", "formattedAmountWithoutPoint": "€12", "formattedAmountWithoutPointAndCurrency": "12", "currency": { "code": "EUR", "cultureName": "en-US", "symbol": "€", "englishName": "US Dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "priceWithTax": { "internalAmount": 11.99, "amount": 11.99, "truncatedAmount": 11.5, "formattedAmount": "€11.99", "formattedAmountWithoutPoint": "€12", "formattedAmountWithoutPointAndCurrency": "12", "currency": { "code": "EUR", "cultureName": "en-US", "symbol": "€", "englishName": "US Dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "discountAmount": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "€0.00", "formattedAmountWithoutPoint": "€0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "EUR", "cultureName": "en-US", "symbol": "€", "englishName": "US Dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "discountAmountWithTax": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "€0.00", "formattedAmountWithoutPoint": "€0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "EUR", "cultureName": "en-US", "symbol": "€", "englishName": "US Dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "actualPrice": { "internalAmount": 11.99, "amount": 11.99, "truncatedAmount": 11.5, "formattedAmount": "€11.99", "formattedAmountWithoutPoint": "€12", "formattedAmountWithoutPointAndCurrency": "12", "currency": { "code": "EUR", "cultureName": "en-US", "symbol": "€", "englishName": "US Dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "actualPriceWithTax": { "internalAmount": 11.99, "amount": 11.99, "truncatedAmount": 11.5, "formattedAmount": "€11.99", "formattedAmountWithoutPoint": "€12", "formattedAmountWithoutPointAndCurrency": "12", "currency": { "code": "EUR", "cultureName": "en-US", "symbol": "€", "englishName": "US Dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "quantity": 1, "currency": { "code": "EUR", "cultureName": "en-US", "symbol": "€", "englishName": "US Dollar", "exchangeRate": 1 }, "taxTotal": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "€0.00", "formattedAmountWithoutPoint": "€0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "EUR", "cultureName": "en-US", "symbol": "€", "englishName": "US Dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "taxPercentRate": 0, "taxDetails": [] }], "taxTotal": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "€0.00", "formattedAmountWithoutPoint": "€0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "EUR", "cultureName": "en-US", "symbol": "€", "englishName": "US Dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "taxPercentRate": 0 }], "inventoryAll": [], "availableQuantity": 0, "seoInfo": { "slug": "343507083", "title": "f2697521d58d48b6bb1c887fc2709070", "language": { "isInvariant": false, "cultureName": "en-US", "nativeName": "English (United States)", "threeLeterLanguageName": "eng", "twoLetterLanguageName": "en", "twoLetterRegionName": "US", "threeLetterRegionName": "USA" } }, "primaryImage": { "url": "//localhost/adminb2b/assets/catalog/343507083/343507083.jpg" }, "images": [{ "url": "//localhost/adminb2b/assets/catalog/343507083/343507083.jpg" }, { "url": "//localhost/adminb2b/assets/catalog/343507083/343507083D1.jpg" }], "isQuotable": true, "isAvailable": true, "properties": [], "taxTotal": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "$0.00", "formattedAmountWithoutPoint": "$0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "taxPercentRate": 0, "taxDetails": [], "discounts": [], "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "id": "f2697521d58d48b6bb1c887fc2709070" }, "productId": "f2697521d58d48b6bb1c887fc2709070", "productType": "Physical", "catalogId": "b61aa9d1d0024bc4be12d79bf5786e9f", "categoryId": "71a883b89c054e4bb560d45edaeb213c", "sku": "343507083", "name": "3 Pack Coral Tassel Necklaces", "quantity": 1, "inStockQuantity": 0, "requiredShipping": false, "imageUrl": "//localhost/adminb2b/assets/catalog/343507083/343507083.jpg", "isGift": false, "languageCode": "en-US", "isReccuring": false, "taxIncluded": false, "isReadOnly": false, "listPrice": { "internalAmount": 15, "amount": 15, "truncatedAmount": 15, "formattedAmount": "$15.00", "formattedAmountWithoutPoint": "$15", "formattedAmountWithoutPointAndCurrency": "15", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "listPriceWithTax": { "internalAmount": 15, "amount": 15, "truncatedAmount": 15, "formattedAmount": "$15.00", "formattedAmountWithoutPoint": "$15", "formattedAmountWithoutPointAndCurrency": "15", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "salePrice": { "internalAmount": 15, "amount": 15, "truncatedAmount": 15, "formattedAmount": "$15.00", "formattedAmountWithoutPoint": "$15", "formattedAmountWithoutPointAndCurrency": "15", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "salePriceWithTax": { "internalAmount": 15, "amount": 15, "truncatedAmount": 15, "formattedAmount": "$15.00", "formattedAmountWithoutPoint": "$15", "formattedAmountWithoutPointAndCurrency": "15", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "placedPrice": { "internalAmount": 15, "amount": 15, "truncatedAmount": 15, "formattedAmount": "$15.00", "formattedAmountWithoutPoint": "$15", "formattedAmountWithoutPointAndCurrency": "15", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "placedPriceWithTax": { "internalAmount": 15, "amount": 15, "truncatedAmount": 15, "formattedAmount": "$15.00", "formattedAmountWithoutPoint": "$15", "formattedAmountWithoutPointAndCurrency": "15", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "extendedPrice": { "internalAmount": 15, "amount": 15, "truncatedAmount": 15, "formattedAmount": "$15.00", "formattedAmountWithoutPoint": "$15", "formattedAmountWithoutPointAndCurrency": "15", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "extendedPriceWithTax": { "internalAmount": 15, "amount": 15, "truncatedAmount": 15, "formattedAmount": "$15.00", "formattedAmountWithoutPoint": "$15", "formattedAmountWithoutPointAndCurrency": "15", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "discountAmount": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "$0.00", "formattedAmountWithoutPoint": "$0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "discountAmountWithTax": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "$0.00", "formattedAmountWithoutPoint": "$0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "discountTotal": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "$0.00", "formattedAmountWithoutPoint": "$0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "discountTotalWithTax": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "$0.00", "formattedAmountWithoutPoint": "$0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "objectType": "VirtoCommerce.Domain.Cart.Model.LineItem", "dynamicProperties": [], "isValid": true, "validationErrors": [], "taxTotal": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "$0.00", "formattedAmountWithoutPoint": "$0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "taxPercentRate": 0, "taxDetails": [], "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "discounts": [], "id": "9ccdda2e2bd243359c411faf0ccb4e08", "$$hashKey": "object:67" }, { "createdDate": "0001-01-01T00:00:00", "product": { "sku": "355992993", "name": "Gold Long Drop Choker", "catalogId": "b61aa9d1d0024bc4be12d79bf5786e9f", "categoryId": "71a883b89c054e4bb560d45edaeb213c", "url": "~/product/99ad0029d6af4748b60cfd38e5da1930", "isBuyable": true, "isInStock": true, "isActive": true, "trackInventory": true, "maxQuantity": 0, "minQuantity": 1, "productType": "Physical", "enableReview": false, "maxNumberOfDownload": 0, "hasUserAgreement": false, "variationProperties": [], "assets": [], "variations": [], "associations": [], "descriptions": [], "price": { "pricelistId": "6a861ff44eb140bebb516a6dc240868c", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "productId": "99ad0029d6af4748b60cfd38e5da1930", "discountAmount": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "$0.00", "formattedAmountWithoutPoint": "$0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "discountAmountWithTax": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "$0.00", "formattedAmountWithoutPoint": "$0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "discountPercent": 0, "listPrice": { "internalAmount": 14.99, "amount": 14.99, "truncatedAmount": 14.5, "formattedAmount": "$14.99", "formattedAmountWithoutPoint": "$15", "formattedAmountWithoutPointAndCurrency": "15", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "listPriceWithTax": { "internalAmount": 14.99, "amount": 14.99, "truncatedAmount": 14.5, "formattedAmount": "$14.99", "formattedAmountWithoutPoint": "$15", "formattedAmountWithoutPointAndCurrency": "15", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "salePrice": { "internalAmount": 14.99, "amount": 14.99, "truncatedAmount": 14.5, "formattedAmount": "$14.99", "formattedAmountWithoutPoint": "$15", "formattedAmountWithoutPointAndCurrency": "15", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "salePriceWithTax": { "internalAmount": 14.99, "amount": 14.99, "truncatedAmount": 14.5, "formattedAmount": "$14.99", "formattedAmountWithoutPoint": "$15", "formattedAmountWithoutPointAndCurrency": "15", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "actualPrice": { "internalAmount": 14.99, "amount": 14.99, "truncatedAmount": 14.5, "formattedAmount": "$14.99", "formattedAmountWithoutPoint": "$15", "formattedAmountWithoutPointAndCurrency": "15", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "actualPriceWithTax": { "internalAmount": 14.99, "amount": 14.99, "truncatedAmount": 14.5, "formattedAmount": "$14.99", "formattedAmountWithoutPoint": "$15", "formattedAmountWithoutPointAndCurrency": "15", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "discounts": [], "minQuantity": 1, "tierPrices": [{ "price": { "internalAmount": 14.99, "amount": 14.99, "truncatedAmount": 14.5, "formattedAmount": "$14.99", "formattedAmountWithoutPoint": "$15", "formattedAmountWithoutPointAndCurrency": "15", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "priceWithTax": { "internalAmount": 14.99, "amount": 14.99, "truncatedAmount": 14.5, "formattedAmount": "$14.99", "formattedAmountWithoutPoint": "$15", "formattedAmountWithoutPointAndCurrency": "15", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "discountAmount": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "$0.00", "formattedAmountWithoutPoint": "$0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "discountAmountWithTax": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "$0.00", "formattedAmountWithoutPoint": "$0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "actualPrice": { "internalAmount": 14.99, "amount": 14.99, "truncatedAmount": 14.5, "formattedAmount": "$14.99", "formattedAmountWithoutPoint": "$15", "formattedAmountWithoutPointAndCurrency": "15", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "actualPriceWithTax": { "internalAmount": 14.99, "amount": 14.99, "truncatedAmount": 14.5, "formattedAmount": "$14.99", "formattedAmountWithoutPoint": "$15", "formattedAmountWithoutPointAndCurrency": "15", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "quantity": 1, "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "taxTotal": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "$0.00", "formattedAmountWithoutPoint": "$0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "taxPercentRate": 0, "taxDetails": [] }], "taxTotal": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "$0.00", "formattedAmountWithoutPoint": "$0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "taxPercentRate": 0 }, "prices": [{ "pricelistId": "39e18ca8ea254296a78d47f3f90d649d", "currency": { "code": "EUR", "cultureName": "en-US", "symbol": "€", "englishName": "US Dollar", "exchangeRate": 1 }, "productId": "99ad0029d6af4748b60cfd38e5da1930", "discountAmount": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "€0.00", "formattedAmountWithoutPoint": "€0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "EUR", "cultureName": "en-US", "symbol": "€", "englishName": "US Dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "discountAmountWithTax": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "€0.00", "formattedAmountWithoutPoint": "€0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "EUR", "cultureName": "en-US", "symbol": "€", "englishName": "US Dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "discountPercent": 0, "listPrice": { "internalAmount": 10.99, "amount": 10.99, "truncatedAmount": 10.5, "formattedAmount": "€10.99", "formattedAmountWithoutPoint": "€11", "formattedAmountWithoutPointAndCurrency": "11", "currency": { "code": "EUR", "cultureName": "en-US", "symbol": "€", "englishName": "US Dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "listPriceWithTax": { "internalAmount": 10.99, "amount": 10.99, "truncatedAmount": 10.5, "formattedAmount": "€10.99", "formattedAmountWithoutPoint": "€11", "formattedAmountWithoutPointAndCurrency": "11", "currency": { "code": "EUR", "cultureName": "en-US", "symbol": "€", "englishName": "US Dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "salePrice": { "internalAmount": 10.99, "amount": 10.99, "truncatedAmount": 10.5, "formattedAmount": "€10.99", "formattedAmountWithoutPoint": "€11", "formattedAmountWithoutPointAndCurrency": "11", "currency": { "code": "EUR", "cultureName": "en-US", "symbol": "€", "englishName": "US Dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "salePriceWithTax": { "internalAmount": 10.99, "amount": 10.99, "truncatedAmount": 10.5, "formattedAmount": "€10.99", "formattedAmountWithoutPoint": "€11", "formattedAmountWithoutPointAndCurrency": "11", "currency": { "code": "EUR", "cultureName": "en-US", "symbol": "€", "englishName": "US Dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "actualPrice": { "internalAmount": 10.99, "amount": 10.99, "truncatedAmount": 10.5, "formattedAmount": "€10.99", "formattedAmountWithoutPoint": "€11", "formattedAmountWithoutPointAndCurrency": "11", "currency": { "code": "EUR", "cultureName": "en-US", "symbol": "€", "englishName": "US Dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "actualPriceWithTax": { "internalAmount": 10.99, "amount": 10.99, "truncatedAmount": 10.5, "formattedAmount": "€10.99", "formattedAmountWithoutPoint": "€11", "formattedAmountWithoutPointAndCurrency": "11", "currency": { "code": "EUR", "cultureName": "en-US", "symbol": "€", "englishName": "US Dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "discounts": [], "minQuantity": 1, "tierPrices": [{ "price": { "internalAmount": 10.99, "amount": 10.99, "truncatedAmount": 10.5, "formattedAmount": "€10.99", "formattedAmountWithoutPoint": "€11", "formattedAmountWithoutPointAndCurrency": "11", "currency": { "code": "EUR", "cultureName": "en-US", "symbol": "€", "englishName": "US Dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "priceWithTax": { "internalAmount": 10.99, "amount": 10.99, "truncatedAmount": 10.5, "formattedAmount": "€10.99", "formattedAmountWithoutPoint": "€11", "formattedAmountWithoutPointAndCurrency": "11", "currency": { "code": "EUR", "cultureName": "en-US", "symbol": "€", "englishName": "US Dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "discountAmount": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "€0.00", "formattedAmountWithoutPoint": "€0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "EUR", "cultureName": "en-US", "symbol": "€", "englishName": "US Dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "discountAmountWithTax": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "€0.00", "formattedAmountWithoutPoint": "€0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "EUR", "cultureName": "en-US", "symbol": "€", "englishName": "US Dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "actualPrice": { "internalAmount": 10.99, "amount": 10.99, "truncatedAmount": 10.5, "formattedAmount": "€10.99", "formattedAmountWithoutPoint": "€11", "formattedAmountWithoutPointAndCurrency": "11", "currency": { "code": "EUR", "cultureName": "en-US", "symbol": "€", "englishName": "US Dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "actualPriceWithTax": { "internalAmount": 10.99, "amount": 10.99, "truncatedAmount": 10.5, "formattedAmount": "€10.99", "formattedAmountWithoutPoint": "€11", "formattedAmountWithoutPointAndCurrency": "11", "currency": { "code": "EUR", "cultureName": "en-US", "symbol": "€", "englishName": "US Dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "quantity": 1, "currency": { "code": "EUR", "cultureName": "en-US", "symbol": "€", "englishName": "US Dollar", "exchangeRate": 1 }, "taxTotal": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "€0.00", "formattedAmountWithoutPoint": "€0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "EUR", "cultureName": "en-US", "symbol": "€", "englishName": "US Dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "taxPercentRate": 0, "taxDetails": [] }], "taxTotal": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "€0.00", "formattedAmountWithoutPoint": "€0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "EUR", "cultureName": "en-US", "symbol": "€", "englishName": "US Dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "taxPercentRate": 0 }, { "pricelistId": "6a861ff44eb140bebb516a6dc240868c", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "productId": "99ad0029d6af4748b60cfd38e5da1930", "discountAmount": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "$0.00", "formattedAmountWithoutPoint": "$0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "discountAmountWithTax": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "$0.00", "formattedAmountWithoutPoint": "$0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "discountPercent": 0, "listPrice": { "internalAmount": 14.99, "amount": 14.99, "truncatedAmount": 14.5, "formattedAmount": "$14.99", "formattedAmountWithoutPoint": "$15", "formattedAmountWithoutPointAndCurrency": "15", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "listPriceWithTax": { "internalAmount": 14.99, "amount": 14.99, "truncatedAmount": 14.5, "formattedAmount": "$14.99", "formattedAmountWithoutPoint": "$15", "formattedAmountWithoutPointAndCurrency": "15", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "salePrice": { "internalAmount": 14.99, "amount": 14.99, "truncatedAmount": 14.5, "formattedAmount": "$14.99", "formattedAmountWithoutPoint": "$15", "formattedAmountWithoutPointAndCurrency": "15", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "salePriceWithTax": { "internalAmount": 14.99, "amount": 14.99, "truncatedAmount": 14.5, "formattedAmount": "$14.99", "formattedAmountWithoutPoint": "$15", "formattedAmountWithoutPointAndCurrency": "15", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "actualPrice": { "internalAmount": 14.99, "amount": 14.99, "truncatedAmount": 14.5, "formattedAmount": "$14.99", "formattedAmountWithoutPoint": "$15", "formattedAmountWithoutPointAndCurrency": "15", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "actualPriceWithTax": { "internalAmount": 14.99, "amount": 14.99, "truncatedAmount": 14.5, "formattedAmount": "$14.99", "formattedAmountWithoutPoint": "$15", "formattedAmountWithoutPointAndCurrency": "15", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "discounts": [], "minQuantity": 1, "tierPrices": [{ "price": { "internalAmount": 14.99, "amount": 14.99, "truncatedAmount": 14.5, "formattedAmount": "$14.99", "formattedAmountWithoutPoint": "$15", "formattedAmountWithoutPointAndCurrency": "15", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "priceWithTax": { "internalAmount": 14.99, "amount": 14.99, "truncatedAmount": 14.5, "formattedAmount": "$14.99", "formattedAmountWithoutPoint": "$15", "formattedAmountWithoutPointAndCurrency": "15", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "discountAmount": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "$0.00", "formattedAmountWithoutPoint": "$0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "discountAmountWithTax": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "$0.00", "formattedAmountWithoutPoint": "$0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "actualPrice": { "internalAmount": 14.99, "amount": 14.99, "truncatedAmount": 14.5, "formattedAmount": "$14.99", "formattedAmountWithoutPoint": "$15", "formattedAmountWithoutPointAndCurrency": "15", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "actualPriceWithTax": { "internalAmount": 14.99, "amount": 14.99, "truncatedAmount": 14.5, "formattedAmount": "$14.99", "formattedAmountWithoutPoint": "$15", "formattedAmountWithoutPointAndCurrency": "15", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "quantity": 1, "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "taxTotal": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "$0.00", "formattedAmountWithoutPoint": "$0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "taxPercentRate": 0, "taxDetails": [] }], "taxTotal": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "$0.00", "formattedAmountWithoutPoint": "$0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "taxPercentRate": 0 }], "inventoryAll": [], "availableQuantity": 0, "seoInfo": { "slug": "355992993", "title": "99ad0029d6af4748b60cfd38e5da1930", "language": { "isInvariant": false, "cultureName": "en-US", "nativeName": "English (United States)", "threeLeterLanguageName": "eng", "twoLetterLanguageName": "en", "twoLetterRegionName": "US", "threeLetterRegionName": "USA" } }, "primaryImage": { "url": "//localhost/adminb2b/assets/catalog/355992993/355992993.jpg" }, "images": [{ "url": "//localhost/adminb2b/assets/catalog/355992993/355992993.jpg" }, { "url": "//localhost/adminb2b/assets/catalog/355992993/355992993D1.jpg" }], "isQuotable": true, "isAvailable": true, "properties": [], "taxTotal": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "$0.00", "formattedAmountWithoutPoint": "$0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "taxPercentRate": 0, "taxDetails": [], "discounts": [], "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "id": "99ad0029d6af4748b60cfd38e5da1930" }, "productId": "99ad0029d6af4748b60cfd38e5da1930", "productType": "Physical", "catalogId": "b61aa9d1d0024bc4be12d79bf5786e9f", "categoryId": "71a883b89c054e4bb560d45edaeb213c", "sku": "355992993", "name": "Gold Long Drop Choker", "quantity": 1, "inStockQuantity": 0, "requiredShipping": false, "imageUrl": "//localhost/adminb2b/assets/catalog/355992993/355992993.jpg", "isGift": false, "languageCode": "en-US", "isReccuring": false, "taxIncluded": false, "isReadOnly": false, "listPrice": { "internalAmount": 14.99, "amount": 14.99, "truncatedAmount": 14.5, "formattedAmount": "$14.99", "formattedAmountWithoutPoint": "$15", "formattedAmountWithoutPointAndCurrency": "15", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "listPriceWithTax": { "internalAmount": 14.99, "amount": 14.99, "truncatedAmount": 14.5, "formattedAmount": "$14.99", "formattedAmountWithoutPoint": "$15", "formattedAmountWithoutPointAndCurrency": "15", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "salePrice": { "internalAmount": 14.99, "amount": 14.99, "truncatedAmount": 14.5, "formattedAmount": "$14.99", "formattedAmountWithoutPoint": "$15", "formattedAmountWithoutPointAndCurrency": "15", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "salePriceWithTax": { "internalAmount": 14.99, "amount": 14.99, "truncatedAmount": 14.5, "formattedAmount": "$14.99", "formattedAmountWithoutPoint": "$15", "formattedAmountWithoutPointAndCurrency": "15", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "placedPrice": { "internalAmount": 14.99, "amount": 14.99, "truncatedAmount": 14.5, "formattedAmount": "$14.99", "formattedAmountWithoutPoint": "$15", "formattedAmountWithoutPointAndCurrency": "15", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "placedPriceWithTax": { "internalAmount": 14.99, "amount": 14.99, "truncatedAmount": 14.5, "formattedAmount": "$14.99", "formattedAmountWithoutPoint": "$15", "formattedAmountWithoutPointAndCurrency": "15", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "extendedPrice": { "internalAmount": 14.99, "amount": 14.99, "truncatedAmount": 14.5, "formattedAmount": "$14.99", "formattedAmountWithoutPoint": "$15", "formattedAmountWithoutPointAndCurrency": "15", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "extendedPriceWithTax": { "internalAmount": 14.99, "amount": 14.99, "truncatedAmount": 14.5, "formattedAmount": "$14.99", "formattedAmountWithoutPoint": "$15", "formattedAmountWithoutPointAndCurrency": "15", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "discountAmount": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "$0.00", "formattedAmountWithoutPoint": "$0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "discountAmountWithTax": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "$0.00", "formattedAmountWithoutPoint": "$0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "discountTotal": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "$0.00", "formattedAmountWithoutPoint": "$0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "discountTotalWithTax": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "$0.00", "formattedAmountWithoutPoint": "$0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "objectType": "VirtoCommerce.Domain.Cart.Model.LineItem", "dynamicProperties": [], "isValid": true, "validationErrors": [], "taxTotal": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "$0.00", "formattedAmountWithoutPoint": "$0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "taxPercentRate": 0, "taxDetails": [], "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "discounts": [], "id": "a1af9b391d0b4f5eafecf4aad8c4d1c5", "$$hashKey": "object:68" }, { "createdDate": "0001-01-01T00:00:00", "product": { "sku": "353541610", "name": "2 Pack White Gem Burst Earcuffs", "catalogId": "b61aa9d1d0024bc4be12d79bf5786e9f", "categoryId": "71a883b89c054e4bb560d45edaeb213c", "url": "~/product/f9507f8ffa9c48eca64807f2fc005ab4", "isBuyable": true, "isInStock": true, "isActive": true, "trackInventory": true, "maxQuantity": 0, "minQuantity": 1, "productType": "Physical", "enableReview": false, "maxNumberOfDownload": 0, "hasUserAgreement": false, "variationProperties": [], "assets": [], "variations": [], "associations": [], "descriptions": [], "price": { "pricelistId": "6a861ff44eb140bebb516a6dc240868c", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "productId": "f9507f8ffa9c48eca64807f2fc005ab4", "discountAmount": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "$0.00", "formattedAmountWithoutPoint": "$0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "discountAmountWithTax": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "$0.00", "formattedAmountWithoutPoint": "$0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "discountPercent": 0, "listPrice": { "internalAmount": 8.99, "amount": 8.99, "truncatedAmount": 8.5, "formattedAmount": "$8.99", "formattedAmountWithoutPoint": "$9", "formattedAmountWithoutPointAndCurrency": "9", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "listPriceWithTax": { "internalAmount": 8.99, "amount": 8.99, "truncatedAmount": 8.5, "formattedAmount": "$8.99", "formattedAmountWithoutPoint": "$9", "formattedAmountWithoutPointAndCurrency": "9", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "salePrice": { "internalAmount": 8.99, "amount": 8.99, "truncatedAmount": 8.5, "formattedAmount": "$8.99", "formattedAmountWithoutPoint": "$9", "formattedAmountWithoutPointAndCurrency": "9", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "salePriceWithTax": { "internalAmount": 8.99, "amount": 8.99, "truncatedAmount": 8.5, "formattedAmount": "$8.99", "formattedAmountWithoutPoint": "$9", "formattedAmountWithoutPointAndCurrency": "9", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "actualPrice": { "internalAmount": 8.99, "amount": 8.99, "truncatedAmount": 8.5, "formattedAmount": "$8.99", "formattedAmountWithoutPoint": "$9", "formattedAmountWithoutPointAndCurrency": "9", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "actualPriceWithTax": { "internalAmount": 8.99, "amount": 8.99, "truncatedAmount": 8.5, "formattedAmount": "$8.99", "formattedAmountWithoutPoint": "$9", "formattedAmountWithoutPointAndCurrency": "9", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "discounts": [], "minQuantity": 1, "tierPrices": [{ "price": { "internalAmount": 8.99, "amount": 8.99, "truncatedAmount": 8.5, "formattedAmount": "$8.99", "formattedAmountWithoutPoint": "$9", "formattedAmountWithoutPointAndCurrency": "9", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "priceWithTax": { "internalAmount": 8.99, "amount": 8.99, "truncatedAmount": 8.5, "formattedAmount": "$8.99", "formattedAmountWithoutPoint": "$9", "formattedAmountWithoutPointAndCurrency": "9", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "discountAmount": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "$0.00", "formattedAmountWithoutPoint": "$0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "discountAmountWithTax": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "$0.00", "formattedAmountWithoutPoint": "$0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "actualPrice": { "internalAmount": 8.99, "amount": 8.99, "truncatedAmount": 8.5, "formattedAmount": "$8.99", "formattedAmountWithoutPoint": "$9", "formattedAmountWithoutPointAndCurrency": "9", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "actualPriceWithTax": { "internalAmount": 8.99, "amount": 8.99, "truncatedAmount": 8.5, "formattedAmount": "$8.99", "formattedAmountWithoutPoint": "$9", "formattedAmountWithoutPointAndCurrency": "9", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "quantity": 1, "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "taxTotal": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "$0.00", "formattedAmountWithoutPoint": "$0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "taxPercentRate": 0, "taxDetails": [] }], "taxTotal": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "$0.00", "formattedAmountWithoutPoint": "$0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "taxPercentRate": 0 }, "prices": [{ "pricelistId": "39e18ca8ea254296a78d47f3f90d649d", "currency": { "code": "EUR", "cultureName": "en-US", "symbol": "€", "englishName": "US Dollar", "exchangeRate": 1 }, "productId": "f9507f8ffa9c48eca64807f2fc005ab4", "discountAmount": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "€0.00", "formattedAmountWithoutPoint": "€0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "EUR", "cultureName": "en-US", "symbol": "€", "englishName": "US Dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "discountAmountWithTax": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "€0.00", "formattedAmountWithoutPoint": "€0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "EUR", "cultureName": "en-US", "symbol": "€", "englishName": "US Dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "discountPercent": 0, "listPrice": { "internalAmount": 6.99, "amount": 6.99, "truncatedAmount": 6.5, "formattedAmount": "€6.99", "formattedAmountWithoutPoint": "€7", "formattedAmountWithoutPointAndCurrency": "7", "currency": { "code": "EUR", "cultureName": "en-US", "symbol": "€", "englishName": "US Dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "listPriceWithTax": { "internalAmount": 6.99, "amount": 6.99, "truncatedAmount": 6.5, "formattedAmount": "€6.99", "formattedAmountWithoutPoint": "€7", "formattedAmountWithoutPointAndCurrency": "7", "currency": { "code": "EUR", "cultureName": "en-US", "symbol": "€", "englishName": "US Dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "salePrice": { "internalAmount": 6.99, "amount": 6.99, "truncatedAmount": 6.5, "formattedAmount": "€6.99", "formattedAmountWithoutPoint": "€7", "formattedAmountWithoutPointAndCurrency": "7", "currency": { "code": "EUR", "cultureName": "en-US", "symbol": "€", "englishName": "US Dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "salePriceWithTax": { "internalAmount": 6.99, "amount": 6.99, "truncatedAmount": 6.5, "formattedAmount": "€6.99", "formattedAmountWithoutPoint": "€7", "formattedAmountWithoutPointAndCurrency": "7", "currency": { "code": "EUR", "cultureName": "en-US", "symbol": "€", "englishName": "US Dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "actualPrice": { "internalAmount": 6.99, "amount": 6.99, "truncatedAmount": 6.5, "formattedAmount": "€6.99", "formattedAmountWithoutPoint": "€7", "formattedAmountWithoutPointAndCurrency": "7", "currency": { "code": "EUR", "cultureName": "en-US", "symbol": "€", "englishName": "US Dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "actualPriceWithTax": { "internalAmount": 6.99, "amount": 6.99, "truncatedAmount": 6.5, "formattedAmount": "€6.99", "formattedAmountWithoutPoint": "€7", "formattedAmountWithoutPointAndCurrency": "7", "currency": { "code": "EUR", "cultureName": "en-US", "symbol": "€", "englishName": "US Dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "discounts": [], "minQuantity": 1, "tierPrices": [{ "price": { "internalAmount": 6.99, "amount": 6.99, "truncatedAmount": 6.5, "formattedAmount": "€6.99", "formattedAmountWithoutPoint": "€7", "formattedAmountWithoutPointAndCurrency": "7", "currency": { "code": "EUR", "cultureName": "en-US", "symbol": "€", "englishName": "US Dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "priceWithTax": { "internalAmount": 6.99, "amount": 6.99, "truncatedAmount": 6.5, "formattedAmount": "€6.99", "formattedAmountWithoutPoint": "€7", "formattedAmountWithoutPointAndCurrency": "7", "currency": { "code": "EUR", "cultureName": "en-US", "symbol": "€", "englishName": "US Dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "discountAmount": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "€0.00", "formattedAmountWithoutPoint": "€0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "EUR", "cultureName": "en-US", "symbol": "€", "englishName": "US Dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "discountAmountWithTax": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "€0.00", "formattedAmountWithoutPoint": "€0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "EUR", "cultureName": "en-US", "symbol": "€", "englishName": "US Dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "actualPrice": { "internalAmount": 6.99, "amount": 6.99, "truncatedAmount": 6.5, "formattedAmount": "€6.99", "formattedAmountWithoutPoint": "€7", "formattedAmountWithoutPointAndCurrency": "7", "currency": { "code": "EUR", "cultureName": "en-US", "symbol": "€", "englishName": "US Dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "actualPriceWithTax": { "internalAmount": 6.99, "amount": 6.99, "truncatedAmount": 6.5, "formattedAmount": "€6.99", "formattedAmountWithoutPoint": "€7", "formattedAmountWithoutPointAndCurrency": "7", "currency": { "code": "EUR", "cultureName": "en-US", "symbol": "€", "englishName": "US Dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "quantity": 1, "currency": { "code": "EUR", "cultureName": "en-US", "symbol": "€", "englishName": "US Dollar", "exchangeRate": 1 }, "taxTotal": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "€0.00", "formattedAmountWithoutPoint": "€0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "EUR", "cultureName": "en-US", "symbol": "€", "englishName": "US Dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "taxPercentRate": 0, "taxDetails": [] }], "taxTotal": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "€0.00", "formattedAmountWithoutPoint": "€0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "EUR", "cultureName": "en-US", "symbol": "€", "englishName": "US Dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "taxPercentRate": 0 }, { "pricelistId": "6a861ff44eb140bebb516a6dc240868c", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "productId": "f9507f8ffa9c48eca64807f2fc005ab4", "discountAmount": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "$0.00", "formattedAmountWithoutPoint": "$0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "discountAmountWithTax": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "$0.00", "formattedAmountWithoutPoint": "$0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "discountPercent": 0, "listPrice": { "internalAmount": 8.99, "amount": 8.99, "truncatedAmount": 8.5, "formattedAmount": "$8.99", "formattedAmountWithoutPoint": "$9", "formattedAmountWithoutPointAndCurrency": "9", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "listPriceWithTax": { "internalAmount": 8.99, "amount": 8.99, "truncatedAmount": 8.5, "formattedAmount": "$8.99", "formattedAmountWithoutPoint": "$9", "formattedAmountWithoutPointAndCurrency": "9", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "salePrice": { "internalAmount": 8.99, "amount": 8.99, "truncatedAmount": 8.5, "formattedAmount": "$8.99", "formattedAmountWithoutPoint": "$9", "formattedAmountWithoutPointAndCurrency": "9", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "salePriceWithTax": { "internalAmount": 8.99, "amount": 8.99, "truncatedAmount": 8.5, "formattedAmount": "$8.99", "formattedAmountWithoutPoint": "$9", "formattedAmountWithoutPointAndCurrency": "9", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "actualPrice": { "internalAmount": 8.99, "amount": 8.99, "truncatedAmount": 8.5, "formattedAmount": "$8.99", "formattedAmountWithoutPoint": "$9", "formattedAmountWithoutPointAndCurrency": "9", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "actualPriceWithTax": { "internalAmount": 8.99, "amount": 8.99, "truncatedAmount": 8.5, "formattedAmount": "$8.99", "formattedAmountWithoutPoint": "$9", "formattedAmountWithoutPointAndCurrency": "9", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "discounts": [], "minQuantity": 1, "tierPrices": [{ "price": { "internalAmount": 8.99, "amount": 8.99, "truncatedAmount": 8.5, "formattedAmount": "$8.99", "formattedAmountWithoutPoint": "$9", "formattedAmountWithoutPointAndCurrency": "9", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "priceWithTax": { "internalAmount": 8.99, "amount": 8.99, "truncatedAmount": 8.5, "formattedAmount": "$8.99", "formattedAmountWithoutPoint": "$9", "formattedAmountWithoutPointAndCurrency": "9", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "discountAmount": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "$0.00", "formattedAmountWithoutPoint": "$0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "discountAmountWithTax": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "$0.00", "formattedAmountWithoutPoint": "$0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "actualPrice": { "internalAmount": 8.99, "amount": 8.99, "truncatedAmount": 8.5, "formattedAmount": "$8.99", "formattedAmountWithoutPoint": "$9", "formattedAmountWithoutPointAndCurrency": "9", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "actualPriceWithTax": { "internalAmount": 8.99, "amount": 8.99, "truncatedAmount": 8.5, "formattedAmount": "$8.99", "formattedAmountWithoutPoint": "$9", "formattedAmountWithoutPointAndCurrency": "9", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "quantity": 1, "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "taxTotal": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "$0.00", "formattedAmountWithoutPoint": "$0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "taxPercentRate": 0, "taxDetails": [] }], "taxTotal": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "$0.00", "formattedAmountWithoutPoint": "$0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "taxPercentRate": 0 }], "inventoryAll": [], "availableQuantity": 0, "seoInfo": { "slug": "353541610", "title": "f9507f8ffa9c48eca64807f2fc005ab4", "language": { "isInvariant": false, "cultureName": "en-US", "nativeName": "English (United States)", "threeLeterLanguageName": "eng", "twoLetterLanguageName": "en", "twoLetterRegionName": "US", "threeLetterRegionName": "USA" } }, "primaryImage": { "url": "//localhost/adminb2b/assets/catalog/353541610/353541610.jpg" }, "images": [{ "url": "//localhost/adminb2b/assets/catalog/353541610/353541610.jpg" }], "isQuotable": true, "isAvailable": true, "properties": [], "taxTotal": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "$0.00", "formattedAmountWithoutPoint": "$0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "taxPercentRate": 0, "taxDetails": [], "discounts": [], "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "id": "f9507f8ffa9c48eca64807f2fc005ab4" }, "productId": "f9507f8ffa9c48eca64807f2fc005ab4", "productType": "Physical", "catalogId": "b61aa9d1d0024bc4be12d79bf5786e9f", "categoryId": "71a883b89c054e4bb560d45edaeb213c", "sku": "353541610", "name": "2 Pack White Gem Burst Earcuffs", "quantity": 1, "inStockQuantity": 0, "requiredShipping": false, "imageUrl": "//localhost/adminb2b/assets/catalog/353541610/353541610.jpg", "isGift": false, "languageCode": "en-US", "isReccuring": false, "taxIncluded": false, "isReadOnly": false, "listPrice": { "internalAmount": 8.99, "amount": 8.99, "truncatedAmount": 8.5, "formattedAmount": "$8.99", "formattedAmountWithoutPoint": "$9", "formattedAmountWithoutPointAndCurrency": "9", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "listPriceWithTax": { "internalAmount": 8.99, "amount": 8.99, "truncatedAmount": 8.5, "formattedAmount": "$8.99", "formattedAmountWithoutPoint": "$9", "formattedAmountWithoutPointAndCurrency": "9", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "salePrice": { "internalAmount": 8.99, "amount": 8.99, "truncatedAmount": 8.5, "formattedAmount": "$8.99", "formattedAmountWithoutPoint": "$9", "formattedAmountWithoutPointAndCurrency": "9", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "salePriceWithTax": { "internalAmount": 8.99, "amount": 8.99, "truncatedAmount": 8.5, "formattedAmount": "$8.99", "formattedAmountWithoutPoint": "$9", "formattedAmountWithoutPointAndCurrency": "9", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "placedPrice": { "internalAmount": 8.99, "amount": 8.99, "truncatedAmount": 8.5, "formattedAmount": "$8.99", "formattedAmountWithoutPoint": "$9", "formattedAmountWithoutPointAndCurrency": "9", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "placedPriceWithTax": { "internalAmount": 8.99, "amount": 8.99, "truncatedAmount": 8.5, "formattedAmount": "$8.99", "formattedAmountWithoutPoint": "$9", "formattedAmountWithoutPointAndCurrency": "9", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "extendedPrice": { "internalAmount": 8.99, "amount": 8.99, "truncatedAmount": 8.5, "formattedAmount": "$8.99", "formattedAmountWithoutPoint": "$9", "formattedAmountWithoutPointAndCurrency": "9", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "extendedPriceWithTax": { "internalAmount": 8.99, "amount": 8.99, "truncatedAmount": 8.5, "formattedAmount": "$8.99", "formattedAmountWithoutPoint": "$9", "formattedAmountWithoutPointAndCurrency": "9", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "discountAmount": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "$0.00", "formattedAmountWithoutPoint": "$0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "discountAmountWithTax": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "$0.00", "formattedAmountWithoutPoint": "$0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "discountTotal": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "$0.00", "formattedAmountWithoutPoint": "$0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "discountTotalWithTax": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "$0.00", "formattedAmountWithoutPoint": "$0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "objectType": "VirtoCommerce.Domain.Cart.Model.LineItem", "dynamicProperties": [], "isValid": true, "validationErrors": [], "taxTotal": { "internalAmount": 0, "amount": 0, "truncatedAmount": 0, "formattedAmount": "$0.00", "formattedAmountWithoutPoint": "$0", "formattedAmountWithoutPointAndCurrency": "0", "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "decimalDigits": 2 }, "taxPercentRate": 0, "taxDetails": [], "currency": { "code": "USD", "cultureName": "en-US", "symbol": "$", "englishName": "US dollar", "exchangeRate": 1 }, "discounts": [], "id": "e13e62ce669a4414ad4d9cca9ea26968", "$$hashKey": "object:69" }];


        $scope.changeItemQty = function (lineItem) {
            debugger;
            return wrapLoading(function () {
                return cartService.changeLineItemsQuantity({ lineItemId: lineItem.id, Quantity: lineItem.quantity }).then($scope.reloadCart);
            });
        };

        $scope.removeItem = function (lineItem) {
            return wrapLoading(function () {
                return cartService.removeLineItem(lineItem.id).then($scope.reloadCart);
            });
        };
        $scope.validateCheckout = function (checkout) {
            checkout.isValid = checkout.payment && checkout.payment.paymentGatewayCode;
            if (checkout.isValid && !checkout.billingAddressEqualsShipping) {
                checkout.isValid = angular.isObject(checkout.payment.billingAddress);
            }
            if (checkout.isValid && checkout.cart && checkout.cart.hasPhysicalProducts) {
                checkout.isValid = angular.isObject(checkout.shipment)
                                && checkout.shipment.shipmentMethodCode
                                && angular.isObject(checkout.shipment.deliveryAddress);
            }
        };

        $scope.reloadCart = function () {
            return cartService.getCart().then(function (response) {
                var cart = response.data;
                if (!cart || !cart.id) {
                    $scope.outerRedirect($scope.baseUrl + 'cart');
                }
                else {
                    $scope.checkout.cart = cart;
                    if (cart.payments.length) {
                        $scope.checkout.payment = cart.payments[0];
                        $scope.checkout.paymentMethod.code = $scope.checkout.payment.paymentGatewayCode;
                    }
                    if (cart.shipments.length) {
                        $scope.checkout.shipment = cart.shipments[0];
                    }
                    $scope.checkout.billingAddressEqualsShipping = cart.hasPhysicalProducts && !angular.isObject($scope.checkout.payment.billingAddress);

                    $scope.checkout.canCartBeRecurring = $scope.customer.isRegisteredUser && _.all(cart.items, function (x) { return !x.isReccuring });
                    $scope.checkout.paymentPlan = cart.paymentPlan && _.findWhere($scope.checkout.availablePaymentPlans, { intervalCount: cart.paymentPlan.intervalCount, interval: cart.paymentPlan.interval }) ||
                                                                      _.findWhere($scope.checkout.availablePaymentPlans, { intervalCount: 1, interval: 'months' });
                }
                $scope.validateCheckout($scope.checkout);
                return cart;
            });
        };

        $scope.selectPaymentMethod = function (paymentMethod) {
            angular.extend($scope.checkout.payment, paymentMethod);
            $scope.checkout.payment.paymentGatewayCode = paymentMethod.code;
            $scope.checkout.payment.amount = angular.copy($scope.checkout.cart.total);
            $scope.checkout.payment.amount.amount += paymentMethod.totalWithTax.amount;

            updatePayment($scope.checkout.payment);
        };

        function getAvailCountries() {
            //Load avail countries
            return commonService.getCountries().then(function (response) {
                return response.data;
            });
        };

        $scope.getCountryRegions = function (country) {
            return commonService.getCountryRegions(country.code3).then(function (response) {
                return response.data;
            });
        };

        $scope.getAvailShippingMethods = function (shipment) {
            return wrapLoading(function () {
                return cartService.getAvailableShippingMethods(shipment.id).then(function (response) {
                    return response.data;
                });
            });
        }

        $scope.getAvailPaymentMethods = function () {
            return wrapLoading(function () {
                return cartService.getAvailablePaymentMethods().then(function (response) {
                    return response.data;
                });
            });
        };

        $scope.selectShippingMethod = function (shippingMethod) {
            if (shippingMethod) {
                $scope.checkout.shipment.shipmentMethodCode = shippingMethod.shipmentMethodCode;
                $scope.checkout.shipment.shipmentMethodOption = shippingMethod.optionName;
            }
            else {
                $scope.checkout.shipment.shipmentMethodCode = undefined;
                $scope.checkout.shipment.shipmentMethodOption = undefined;
            }
            $scope.updateShipment($scope.checkout.shipment);
        };

        $scope.updateShipment = function (shipment) {
            if (shipment.deliveryAddress) {
                $scope.checkout.shipment.deliveryAddress.type = 'Shipping';
            };
            //Does not pass validation errors to API
            shipment.validationErrors = undefined;
            return wrapLoading(function () {
                return cartService.addOrUpdateShipment(shipment).then($scope.reloadCart);
            });
        };

        $scope.createOrder = function () {
            updatePayment($scope.checkout.payment).then(function () {
                $scope.checkout.loading = true;
                cartService.createOrder($scope.checkout.paymentMethod.card).then(function (response) {
                    var order = response.data.order;
                    var orderProcessingResult = response.data.orderProcessingResult;
                    var paymentMethod = response.data.paymentMethod;
                    handlePostPaymentResult(order, orderProcessingResult, paymentMethod);
                });
            });
        };

        $scope.savePaymentPlan = function () {
            wrapLoading(function () {
                return cartService.addOrUpdatePaymentPlan($scope.checkout.paymentPlan).then(function () {
                    $scope.checkout.cart.paymentPlan = $scope.checkout.paymentPlan;
                });
            });
        };

        $scope.isRecurringChanged = function (isRecurring) {
            if ($scope.checkout.paymentPlan) {
                if (isRecurring) {
                    $scope.savePaymentPlan();
                } else {
                    wrapLoading(function () {
                        return cartService.removePaymentPlan().then(function () {
                            $scope.checkout.cart.paymentPlan = undefined;
                        });
                    });
                }
            }
        };

        function updatePayment(payment) {
            if ($scope.checkout.billingAddressEqualsShipping) {
                payment.billingAddress = undefined;
            }

            if (payment.billingAddress) {
                payment.billingAddress.type = 'Billing';
            }
            return wrapLoading(function () {
                return cartService.addOrUpdatePayment(payment).then($scope.reloadCart);
            });
        }

        function handlePostPaymentResult(order, orderProcessingResult, paymentMethod) {
            if (!orderProcessingResult.isSuccess) {
                $scope.checkout.loading = false;
                $rootScope.$broadcast('storefrontError', {
                    type: 'error',
                    title: ['Error in new order processing: ', orderProcessingResult.error, 'New Payment status: ' + orderProcessingResult.newPaymentStatus].join(' '),
                    message: orderProcessingResult.error,
                });
                return;
            }

            if (paymentMethod.paymentMethodType && paymentMethod.paymentMethodType.toLowerCase() == 'preparedform' && orderProcessingResult.htmlForm) {
                $scope.outerRedirect($scope.baseUrl + 'cart/checkout/paymentform?orderNumber=' + order.number);
            } else if (paymentMethod.paymentMethodType && paymentMethod.paymentMethodType.toLowerCase() == 'redirection' && orderProcessingResult.redirectUrl) {
                $window.location.href = orderProcessingResult.redirectUrl;
            } else {
                if (!$scope.customer.isRegisteredUser) {
                    $scope.outerRedirect($scope.baseUrl + 'cart/thanks/' + order.number);
                } else {
                    $scope.outerRedirect($scope.baseUrl + 'account#/orders/' + order.number);
                }
            }
        }

        function wrapLoading(func) {
            $scope.checkout.loading = true;
            return func().then(function (result) {
                $scope.checkout.loading = false;
                return result;
            },
                function () {
                    $scope.checkout.loading = false;
                });
        }

        $scope.initialize = function () {

            $scope.reloadCart().then(function (cart) {
                $scope.checkout.wizard.goToStep(cart.hasPhysicalProducts ? 'shipping-address' : 'payment-method');
            });
        };

        getAvailCountries().then(function (countries) {
            $scope.checkout.availCountries = countries;
        });
    }]);
